"use strict";if(!window.jscolor){window.jscolor=(function(){var a={register:function(){a.attachDOMReadyEvent(a.init);a.attachEvent(document,"mousedown",a.onDocumentMouseDown);a.attachEvent(document,"touchstart",a.onDocumentTouchStart);a.attachEvent(window,"resize",a.onWindowResize)},init:function(){if(a.jscolor.lookupClass){a.jscolor.installByClassName(a.jscolor.lookupClass)}},tryInstallOnElements:function(d,b){var h=new RegExp("(^|\\s)("+b+")(\\s*(\\{[^}]*\\})|\\s|$)","i");for(var f=0;f<d.length;f+=1){if(d[f].type!==undefined&&d[f].type.toLowerCase()=="color"){if(a.isColorAttrSupported){continue}}var g;if(!d[f].jscolor&&d[f].className&&(g=d[f].className.match(h))){var l=d[f];var k=null;var c=a.getDataAttr(l,"jscolor");if(c!==null){k=c}else{if(g[4]){k=g[4]}}var j={};if(k){try{j=(new Function("return ("+k+")"))()}catch(e){a.warn("Error parsing jscolor options: "+e+":\n"+k)}}l.jscolor=new a.jscolor(l,j)}}},isColorAttrSupported:(function(){var b=document.createElement("input");if(b.setAttribute){b.setAttribute("type","color");if(b.type.toLowerCase()=="color"){return true}}return false})(),isCanvasSupported:(function(){var b=document.createElement("canvas");return !!(b.getContext&&b.getContext("2d"))})(),fetchElement:function(b){return typeof b==="string"?document.getElementById(b):b},isElementType:function(b,c){return b.nodeName.toLowerCase()===c.toLowerCase()},getDataAttr:function(d,e){var b="data-"+e;var c=d.getAttribute(b);if(c!==null){return c}return null},attachEvent:function(b,c,d){if(b.addEventListener){b.addEventListener(c,d,false)}else{if(b.attachEvent){b.attachEvent("on"+c,d)}}},detachEvent:function(b,c,d){if(b.removeEventListener){b.removeEventListener(c,d,false)}else{if(b.detachEvent){b.detachEvent("on"+c,d)}}},_attachedGroupEvents:{},attachGroupEvent:function(e,b,c,d){if(!a._attachedGroupEvents.hasOwnProperty(e)){a._attachedGroupEvents[e]=[]}a._attachedGroupEvents[e].push([b,c,d]);a.attachEvent(b,c,d)},detachGroupEvents:function(c){if(a._attachedGroupEvents.hasOwnProperty(c)){for(var d=0;d<a._attachedGroupEvents[c].length;d+=1){var b=a._attachedGroupEvents[c][d];a.detachEvent(b[0],b[1],b[2])}delete a._attachedGroupEvents[c]}},attachDOMReadyEvent:function(d){var b=false;var c=function(){if(!b){b=true;d()}};if(document.readyState==="complete"){setTimeout(c,1);return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",c,false);window.addEventListener("load",c,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);c()}});window.attachEvent("onload",c);if(document.documentElement.doScroll&&window==window.top){var e=function(){if(!document.body){return}try{document.documentElement.doScroll("left");c()}catch(f){setTimeout(e,1)}};e()}}}},warn:function(b){if(window.console&&window.console.warn){window.console.warn(b)}},preventDefault:function(b){if(b.preventDefault){b.preventDefault()}b.returnValue=false},captureTarget:function(b){if(b.setCapture){a._capturedTarget=b;a._capturedTarget.setCapture()}},releaseTarget:function(){if(a._capturedTarget){a._capturedTarget.releaseCapture();a._capturedTarget=null}},fireEvent:function(b,d){if(!b){return}if(document.createEvent){var c=document.createEvent("HTMLEvents");c.initEvent(d,true,true);b.dispatchEvent(c)}else{if(document.createEventObject){var c=document.createEventObject();b.fireEvent("on"+d,c)}else{if(b["on"+d]){b["on"+d]()}}}},classNameToList:function(b){return b.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(c,b){if(!b){return false}return -1!=(" "+c.className.replace(/\s+/g," ")+" ").indexOf(" "+b+" ")},setClass:function(d,c){var b=a.classNameToList(c);for(var e=0;e<b.length;e+=1){if(!a.hasClass(d,b[e])){d.className+=(d.className?" ":"")+b[e]}}},unsetClass:function(d,c){var b=a.classNameToList(c);for(var e=0;e<b.length;e+=1){var f=new RegExp("^\\s*"+b[e]+"\\s*|\\s*"+b[e]+"\\s*$|\\s+"+b[e]+"(\\s+)","g");d.className=d.className.replace(f,"$1")}},getStyle:function(b){return window.getComputedStyle?window.getComputedStyle(b):b.currentStyle},setStyle:(function(){var c=document.createElement("div");var b=function(f){for(var e=0;e<f.length;e+=1){if(f[e] in c.style){return f[e]}}};var d={borderRadius:b(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:b(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(f,g,h){switch(g.toLowerCase()){case"opacity":var e=Math.round(parseFloat(h)*100);f.style.opacity=h;f.style.filter="alpha(opacity="+e+")";break;default:f.style[d[g]]=h;break}}})(),setBorderRadius:function(b,c){a.setStyle(b,"borderRadius",c||"0")},setBoxShadow:function(b,c){a.setStyle(b,"boxShadow",c||"none")},getElementPos:function(b,d){var g=0,h=0;var c=b.getBoundingClientRect();g=c.left;h=c.top;if(!d){var f=a.getViewPos();g+=f[0];h+=f[1]}return[g,h]},getElementSize:function(b){return[b.offsetWidth,b.offsetHeight]},getAbsPointerPos:function(b){if(!b){b=window.event}var c=0,d=0;if(typeof b.changedTouches!=="undefined"&&b.changedTouches.length){c=b.changedTouches[0].clientX;d=b.changedTouches[0].clientY}else{if(typeof b.clientX==="number"){c=b.clientX;d=b.clientY}}return{x:c,y:d}},getRelPointerPos:function(d){if(!d){d=window.event}var f=d.target||d.srcElement;var g=f.getBoundingClientRect();var h=0,i=0;var b=0,c=0;if(typeof d.changedTouches!=="undefined"&&d.changedTouches.length){b=d.changedTouches[0].clientX;c=d.changedTouches[0].clientY}else{if(typeof d.clientX==="number"){b=d.clientX;c=d.clientY}}h=b-g.left;i=c-g.top;return{x:h,y:i}},getViewPos:function(){var b=document.documentElement;return[(window.pageXOffset||b.scrollLeft)-(b.clientLeft||0),(window.pageYOffset||b.scrollTop)-(b.clientTop||0)]},getViewSize:function(){var b=document.documentElement;return[(window.innerWidth||b.clientWidth),(window.innerHeight||b.clientHeight),]},redrawPosition:function(){if(a.picker&&a.picker.owner){var m=a.picker.owner;var n,p;if(m.fixed){n=a.getElementPos(m.targetElement,true);p=[0,0]}else{n=a.getElementPos(m.targetElement);p=a.getViewPos()}var o=a.getElementSize(m.targetElement);var q=a.getViewSize();var k=a.getPickerOuterDims(m);var d,e,f;switch(m.position.toLowerCase()){case"left":d=1;e=0;f=-1;break;case"right":d=1;e=0;f=1;break;case"top":d=0;e=1;f=-1;break;default:d=0;e=1;f=1;break}var h=(o[e]+k[e])/2;if(!m.smartPosition){var j=[n[d],n[e]+o[e]-h+h*f]}else{var j=[-p[d]+n[d]+k[d]>q[d]?(-p[d]+n[d]+o[d]/2>q[d]/2&&n[d]+o[d]-k[d]>=0?n[d]+o[d]-k[d]:n[d]):n[d],-p[e]+n[e]+o[e]+k[e]-h+h*f>q[e]?(-p[e]+n[e]+o[e]/2>q[e]/2&&n[e]+o[e]-h-h*f>=0?n[e]+o[e]-h-h*f:n[e]+o[e]-h+h*f):(n[e]+o[e]-h+h*f>=0?n[e]+o[e]-h+h*f:n[e]+o[e]-h-h*f)]}var r=j[d];var s=j[e];var i=m.fixed?"fixed":"absolute";var g=(j[0]+k[0]>n[0]||j[0]<n[0]+o[0])&&(j[1]+k[1]<n[1]+o[1]);a._drawPosition(m,r,s,i,g)}},_drawPosition:function(d,f,g,c,b){var e=b?0:d.shadowBlur;a.picker.wrap.style.position=c;a.picker.wrap.style.left=f+"px";a.picker.wrap.style.top=g+"px";a.setBoxShadow(a.picker.boxS,d.shadow?new a.BoxShadow(0,e,d.shadowBlur,0,d.shadowColor):null)},getPickerDims:function(d){var c=!!a.getSliderComponent(d);var b=[2*d.insetWidth+2*d.padding+d.width+(c?2*d.insetWidth+a.getPadToSliderPadding(d)+d.sliderSize:0),2*d.insetWidth+2*d.padding+d.height+(d.closable?2*d.insetWidth+d.padding+d.buttonHeight:0)];return b},getPickerOuterDims:function(c){var b=a.getPickerDims(c);return[b[0]+2*c.borderWidth,b[1]+2*c.borderWidth]},getPadToSliderPadding:function(b){return Math.max(b.padding,1.5*(2*b.pointerBorderWidth+b.pointerThickness))},getPadYComponent:function(b){switch(b.mode.charAt(1).toLowerCase()){case"v":return"v";break}return"s"},getSliderComponent:function(b){if(b.mode.length>2){switch(b.mode.charAt(2).toLowerCase()){case"s":return"s";break;case"v":return"v";break}}return null},onDocumentMouseDown:function(b){if(!b){b=window.event}var c=b.target||b.srcElement;if(c._jscLinkedInstance){if(c._jscLinkedInstance.showOnClick){c._jscLinkedInstance.show()}}else{if(c._jscControlName){a.onControlPointerStart(b,c,c._jscControlName,"mouse")}else{if(a.picker&&a.picker.owner){a.picker.owner.hide()}}}},onDocumentTouchStart:function(b){if(!b){b=window.event}var c=b.target||b.srcElement;if(c._jscLinkedInstance){if(c._jscLinkedInstance.showOnClick){c._jscLinkedInstance.show()}}else{if(c._jscControlName){a.onControlPointerStart(b,c,c._jscControlName,"touch")}else{if(a.picker&&a.picker.owner){a.picker.owner.hide()}}}},onWindowResize:function(b){a.redrawPosition()},onParentScroll:function(b){if(a.picker&&a.picker.owner){a.picker.owner.hide()}},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(d,k,c,g){var l=k._jscInstance;a.preventDefault(d);a.captureTarget(k);var i=function(e,m){a.attachGroupEvent("drag",e,a._pointerMoveEvent[g],a.onDocumentPointerMove(d,k,c,g,m));a.attachGroupEvent("drag",e,a._pointerEndEvent[g],a.onDocumentPointerEnd(d,k,c,g))};i(document,[0,0]);if(window.parent&&window.frameElement){var h=window.frameElement.getBoundingClientRect();var f=[-h.left,-h.top];i(window.parent.window.document,f)}var b=a.getAbsPointerPos(d);var j=a.getRelPointerPos(d);a._pointerOrigin={x:b.x-j.x,y:b.y-j.y};switch(c){case"pad":switch(a.getSliderComponent(l)){case"s":if(l.hsv[1]===0){l.fromHSV(null,100,null)}break;case"v":if(l.hsv[2]===0){l.fromHSV(null,null,100)}break}a.setPad(l,d,0,0);break;case"sld":a.setSld(l,d,0);break}a.dispatchFineChange(l)},onDocumentPointerMove:function(c,g,b,f,d){return function(h){var i=g._jscInstance;switch(b){case"pad":if(!h){h=window.event}a.setPad(i,h,d[0],d[1]);a.dispatchFineChange(i);break;case"sld":if(!h){h=window.event}a.setSld(i,h,d[1]);a.dispatchFineChange(i);break}}},onDocumentPointerEnd:function(c,f,b,d){return function(g){var h=f._jscInstance;a.detachGroupEvents("drag");a.releaseTarget();a.dispatchChange(h)}},dispatchChange:function(b){if(b.valueElement){if(a.isElementType(b.valueElement,"input")){a.fireEvent(b.valueElement,"change")}}},dispatchFineChange:function(c){if(c.onFineChange){var b;if(typeof c.onFineChange==="string"){b=new Function(c.onFineChange)}else{b=c.onFineChange}b.call(c)}},setPad:function(g,b,c,d){var f=a.getAbsPointerPos(b);var h=c+f.x-a._pointerOrigin.x-g.padding-g.insetWidth;var j=d+f.y-a._pointerOrigin.y-g.padding-g.insetWidth;var i=h*(360/(g.width-1));var k=100-(j*(100/(g.height-1)));switch(a.getPadYComponent(g)){case"s":g.fromHSV(i,k,null,a.leaveSld);break;case"v":g.fromHSV(i,null,k,a.leaveSld);break}},setSld:function(f,b,c){var d=a.getAbsPointerPos(b);var g=c+d.y-a._pointerOrigin.y-f.padding-f.insetWidth;var h=100-(g*(100/(f.height-1)));switch(a.getSliderComponent(f)){case"s":f.fromHSV(null,h,null,a.leavePad);break;case"v":f.fromHSV(null,null,h,a.leavePad);break}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:false,initVML:function(){if(!a._vmlReady){var b=document;if(!b.namespaces[a._vmlNS]){b.namespaces.add(a._vmlNS,"urn:schemas-microsoft-com:vml")}if(!b.styleSheets[a._vmlCSS]){var e=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"];var d=b.createStyleSheet();d.owningElement.id=a._vmlCSS;for(var c=0;c<e.length;c+=1){d.addRule(a._vmlNS+"\\:"+e[c],"behavior:url(#default#VML);")}}a._vmlReady=true}},createPalette:function(){var g={elm:null,draw:null};if(a.isCanvasSupported){var b=document.createElement("canvas");var c=b.getContext("2d");var d=function(o,k,m){b.width=o;b.height=k;c.clearRect(0,0,b.width,b.height);var l=c.createLinearGradient(0,0,b.width,0);l.addColorStop(0/6,"#F00");l.addColorStop(1/6,"#FF0");l.addColorStop(2/6,"#0F0");l.addColorStop(3/6,"#0FF");l.addColorStop(4/6,"#00F");l.addColorStop(5/6,"#F0F");l.addColorStop(6/6,"#F00");c.fillStyle=l;c.fillRect(0,0,b.width,b.height);var n=c.createLinearGradient(0,0,0,b.height);switch(m.toLowerCase()){case"s":n.addColorStop(0,"rgba(255,255,255,0)");n.addColorStop(1,"rgba(255,255,255,1)");break;case"v":n.addColorStop(0,"rgba(0,0,0,0)");n.addColorStop(1,"rgba(0,0,0,1)");break}c.fillStyle=n;c.fillRect(0,0,b.width,b.height)};g.elm=b;g.draw=d}else{a.initVML();var i=document.createElement("div");i.style.position="relative";i.style.overflow="hidden";var e=document.createElement(a._vmlNS+":fill");e.type="gradient";e.method="linear";e.angle="90";e.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var f=document.createElement(a._vmlNS+":rect");f.style.position="absolute";f.style.left=-1+"px";f.style.top=-1+"px";f.stroked=false;f.appendChild(e);i.appendChild(f);var h=document.createElement(a._vmlNS+":fill");h.type="gradient";h.method="linear";h.angle="180";h.opacity="0";var j=document.createElement(a._vmlNS+":rect");j.style.position="absolute";j.style.left=-1+"px";j.style.top=-1+"px";j.stroked=false;j.appendChild(h);i.appendChild(j);var d=function(m,k,l){i.style.width=m+"px";i.style.height=k+"px";f.style.width=j.style.width=(m+1)+"px";f.style.height=j.style.height=(k+1)+"px";e.color="#F00";e.color2="#F00";switch(l.toLowerCase()){case"s":h.color=h.color2="#FFF";break;case"v":h.color=h.color2="#000";break}};g.elm=i;g.draw=d}return g},createSliderGradient:function(){var g={elm:null,draw:null};if(a.isCanvasSupported){var b=document.createElement("canvas");var c=b.getContext("2d");var d=function(m,l,i,j){b.width=m;b.height=l;c.clearRect(0,0,b.width,b.height);var k=c.createLinearGradient(0,0,0,b.height);k.addColorStop(0,i);k.addColorStop(1,j);c.fillStyle=k;c.fillRect(0,0,b.width,b.height)};g.elm=b;g.draw=d}else{a.initVML();var h=document.createElement("div");h.style.position="relative";h.style.overflow="hidden";var e=document.createElement(a._vmlNS+":fill");e.type="gradient";e.method="linear";e.angle="180";var f=document.createElement(a._vmlNS+":rect");f.style.position="absolute";f.style.left=-1+"px";f.style.top=-1+"px";f.stroked=false;f.appendChild(e);h.appendChild(f);var d=function(l,k,i,j){h.style.width=l+"px";h.style.height=k+"px";f.style.width=(l+1)+"px";f.style.height=(k+1)+"px";e.color=i;e.color2=j};g.elm=h;g.draw=d}return g},leaveValue:1<<0,leaveStyle:1<<1,leavePad:1<<2,leaveSld:1<<3,BoxShadow:(function(){var b=function(e,h,c,g,d,f){this.hShadow=e;this.vShadow=h;this.blur=c;this.spread=g;this.color=d;this.inset=!!f};b.prototype.toString=function(){var c=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];if(this.inset){c.push("inset")}return c.join(" ")};return b})(),jscolor:function(q,k){this.value=null;this.valueElement=q;this.styleElement=q;this.required=true;this.refine=true;this.hash=false;this.uppercase=true;this.onFineChange=null;this.activeClass="jscolor-active";this.minS=0;this.maxS=100;this.minV=0;this.maxV=100;this.hsv=[0,0,100];this.rgb=[255,255,255];this.width=181;this.height=101;this.showOnClick=true;this.mode="HSV";this.position="bottom";this.smartPosition=true;this.sliderSize=16;this.crossSize=8;this.closable=false;this.closeText="Close";this.buttonColor="#000000";this.buttonHeight=18;this.padding=12;this.backgroundColor="#FFFFFF";this.borderWidth=1;this.borderColor="#BBBBBB";this.borderRadius=8;this.insetWidth=1;this.insetColor="#BBBBBB";this.shadow=true;this.shadowBlur=15;this.shadowColor="rgba(0,0,0,0.2)";this.pointerColor="#4C4C4C";this.pointerBorderColor="#FFFFFF";this.pointerBorderWidth=1;this.pointerThickness=2;this.zIndex=1000;this.container=null;for(var j in k){if(k.hasOwnProperty(j)){this[j]=k[j]}}this.hide=function(){if(i()){d()}};this.show=function(){e()};this.redraw=function(){if(i()){e()}};this.importColor=function(){if(!this.valueElement){this.exportColor()}else{if(a.isElementType(this.valueElement,"input")){if(!this.refine){if(!this.fromString(this.valueElement.value,a.leaveValue)){if(this.styleElement){this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage;this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor;this.styleElement.style.color=this.styleElement._jscOrigStyle.color}this.exportColor(a.leaveValue|a.leaveStyle)}}else{if(!this.required&&/^\s*$/.test(this.valueElement.value)){this.valueElement.value="";if(this.styleElement){this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage;this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor;this.styleElement.style.color=this.styleElement._jscOrigStyle.color}this.exportColor(a.leaveValue|a.leaveStyle)}else{if(this.fromString(this.valueElement.value)){}else{this.exportColor()}}}}else{this.exportColor()}}};this.exportColor=function(t){if(!(t&a.leaveValue)&&this.valueElement){var u=this.toString();if(this.uppercase){u=u.toUpperCase()}if(this.hash){u="#"+u}if(a.isElementType(this.valueElement,"input")){this.valueElement.value=u}else{this.valueElement.innerHTML=u}}if(!(t&a.leaveStyle)){if(this.styleElement){this.styleElement.style.backgroundImage="none";this.styleElement.style.backgroundColor="#"+this.toString();this.styleElement.style.color=this.isLight()?"#000":"#FFF"}}if(!(t&a.leavePad)&&i()){m()}if(!(t&a.leaveSld)&&i()){n()}};this.fromHSV=function(u,w,x,t){if(u!==null){if(isNaN(u)){return false}u=Math.max(0,Math.min(360,u))}if(w!==null){if(isNaN(w)){return false}w=Math.max(0,Math.min(100,this.maxS,w),this.minS)}if(x!==null){if(isNaN(x)){return false}x=Math.max(0,Math.min(100,this.maxV,x),this.minV)}this.rgb=g(u===null?this.hsv[0]:(this.hsv[0]=u),w===null?this.hsv[1]:(this.hsv[1]=w),x===null?this.hsv[2]:(this.hsv[2]=x));this.exportColor(t)};this.fromRGB=function(x,v,t,u){if(x!==null){if(isNaN(x)){return false}x=Math.max(0,Math.min(255,x))}if(v!==null){if(isNaN(v)){return false}v=Math.max(0,Math.min(255,v))}if(t!==null){if(isNaN(t)){return false}t=Math.max(0,Math.min(255,t))}var w=o(x===null?this.rgb[0]:x,v===null?this.rgb[1]:v,t===null?this.rgb[2]:t);if(w[0]!==null){this.hsv[0]=Math.max(0,Math.min(360,w[0]))}if(w[2]!==0){this.hsv[1]=w[1]===null?null:Math.max(0,this.minS,Math.min(100,this.maxS,w[1]))}this.hsv[2]=w[2]===null?null:Math.max(0,this.minV,Math.min(100,this.maxV,w[2]));var y=g(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=y[0];this.rgb[1]=y[1];this.rgb[2]=y[2];this.exportColor(u)};this.fromString=function(D,u){var w;if(w=D.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i)){if(w[1].length===6){this.fromRGB(parseInt(w[1].substr(0,2),16),parseInt(w[1].substr(2,2),16),parseInt(w[1].substr(4,2),16),u)}else{this.fromRGB(parseInt(w[1].charAt(0)+w[1].charAt(0),16),parseInt(w[1].charAt(1)+w[1].charAt(1),16),parseInt(w[1].charAt(2)+w[1].charAt(2),16),u)}return true}else{if(w=D.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var A=w[1].split(",");var C=/^\s*(\d*)(\.\d+)?\s*$/;var z,y,x;if(A.length>=3&&(z=A[0].match(C))&&(y=A[1].match(C))&&(x=A[2].match(C))){var B=parseFloat((z[1]||"0")+(z[2]||""));var v=parseFloat((y[1]||"0")+(y[2]||""));var t=parseFloat((x[1]||"0")+(x[2]||""));this.fromRGB(B,v,t,u);return true}}}return false};this.toString=function(){return((256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1))};this.toHEXString=function(){return"#"+this.toString().toUpperCase()};this.toRGBString=function(){return("rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")")};this.isLight=function(){return(0.213*this.rgb[0]+0.715*this.rgb[1]+0.072*this.rgb[2]>255/2)};this._processParentElementsInDOM=function(){if(this._linkedElementsProcessed){return}this._linkedElementsProcessed=true;var u=this.targetElement;do{var t=a.getStyle(u);if(t&&t.position.toLowerCase()==="fixed"){this.fixed=true}if(u!==this.targetElement){if(!u._jscEventsAttached){a.attachEvent(u,"scroll",a.onParentScroll);u._jscEventsAttached=true}}}while((u=u.parentNode)&&!a.isElementType(u,"body"))};function o(z,u,t){z/=255;u/=255;t/=255;var y=Math.min(Math.min(z,u),t);var A=Math.max(Math.max(z,u),t);var x=A-y;if(x===0){return[null,0,100*A]}var w=z===y?3+(t-u)/x:(u===y?5+(z-t)/x:1+(u-z)/x);return[60*(w===6?0:w),100*(x/A),100*A]}function g(w,A,C){var B=255*(C/100);if(w===null){return[B,B,B]}w/=60;A/=100;var x=Math.floor(w);var t=x%2?w-x:1-(w-x);var y=B*(1-A);var z=B*(1-A*t);switch(x){case 6:case 0:return[B,z,y];case 1:return[z,B,y];case 2:return[y,B,z];case 3:return[y,z,B];case 4:return[z,y,B];case 5:return[B,y,z]}}function d(){a.unsetClass(r.targetElement,r.activeClass);a.picker.wrap.parentNode.removeChild(a.picker.wrap);delete a.picker.owner}function e(){r._processParentElementsInDOM();if(!a.picker){a.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:a.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:a.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")};a.picker.pad.appendChild(a.picker.padPal.elm);a.picker.padB.appendChild(a.picker.pad);a.picker.cross.appendChild(a.picker.crossBY);a.picker.cross.appendChild(a.picker.crossBX);a.picker.cross.appendChild(a.picker.crossLY);a.picker.cross.appendChild(a.picker.crossLX);a.picker.padB.appendChild(a.picker.cross);a.picker.box.appendChild(a.picker.padB);a.picker.box.appendChild(a.picker.padM);a.picker.sld.appendChild(a.picker.sldGrad.elm);a.picker.sldB.appendChild(a.picker.sld);a.picker.sldB.appendChild(a.picker.sldPtrOB);a.picker.sldPtrOB.appendChild(a.picker.sldPtrMB);a.picker.sldPtrMB.appendChild(a.picker.sldPtrIB);a.picker.sldPtrIB.appendChild(a.picker.sldPtrS);a.picker.box.appendChild(a.picker.sldB);a.picker.box.appendChild(a.picker.sldM);a.picker.btn.appendChild(a.picker.btnT);a.picker.box.appendChild(a.picker.btn);a.picker.boxB.appendChild(a.picker.box);a.picker.wrap.appendChild(a.picker.boxS);a.picker.wrap.appendChild(a.picker.boxB)}var y=a.picker;var w=!!a.getSliderComponent(r);var v=a.getPickerDims(r);var u=(2*r.pointerBorderWidth+r.pointerThickness+2*r.crossSize);var A=a.getPadToSliderPadding(r);var t=Math.min(r.borderRadius,Math.round(r.padding*Math.PI));var z="crosshair";y.wrap.style.clear="both";y.wrap.style.width=(v[0]+2*r.borderWidth)+"px";y.wrap.style.height=(v[1]+2*r.borderWidth)+"px";y.wrap.style.zIndex=r.zIndex;y.box.style.width=v[0]+"px";y.box.style.height=v[1]+"px";y.boxS.style.position="absolute";y.boxS.style.left="0";y.boxS.style.top="0";y.boxS.style.width="100%";y.boxS.style.height="100%";a.setBorderRadius(y.boxS,t+"px");y.boxB.style.position="relative";y.boxB.style.border=r.borderWidth+"px solid";y.boxB.style.borderColor=r.borderColor;y.boxB.style.background=r.backgroundColor;a.setBorderRadius(y.boxB,t+"px");y.padM.style.background=y.sldM.style.background="#FFF";a.setStyle(y.padM,"opacity","0");a.setStyle(y.sldM,"opacity","0");y.pad.style.position="relative";y.pad.style.width=r.width+"px";y.pad.style.height=r.height+"px";y.padPal.draw(r.width,r.height,a.getPadYComponent(r));y.padB.style.position="absolute";y.padB.style.left=r.padding+"px";y.padB.style.top=r.padding+"px";y.padB.style.border=r.insetWidth+"px solid";y.padB.style.borderColor=r.insetColor;y.padM._jscInstance=r;y.padM._jscControlName="pad";y.padM.style.position="absolute";y.padM.style.left="0";y.padM.style.top="0";y.padM.style.width=(r.padding+2*r.insetWidth+r.width+A/2)+"px";y.padM.style.height=v[1]+"px";y.padM.style.cursor=z;y.cross.style.position="absolute";y.cross.style.left=y.cross.style.top="0";y.cross.style.width=y.cross.style.height=u+"px";y.crossBY.style.position=y.crossBX.style.position="absolute";y.crossBY.style.background=y.crossBX.style.background=r.pointerBorderColor;y.crossBY.style.width=y.crossBX.style.height=(2*r.pointerBorderWidth+r.pointerThickness)+"px";y.crossBY.style.height=y.crossBX.style.width=u+"px";y.crossBY.style.left=y.crossBX.style.top=(Math.floor(u/2)-Math.floor(r.pointerThickness/2)-r.pointerBorderWidth)+"px";y.crossBY.style.top=y.crossBX.style.left="0";y.crossLY.style.position=y.crossLX.style.position="absolute";y.crossLY.style.background=y.crossLX.style.background=r.pointerColor;y.crossLY.style.height=y.crossLX.style.width=(u-2*r.pointerBorderWidth)+"px";y.crossLY.style.width=y.crossLX.style.height=r.pointerThickness+"px";y.crossLY.style.left=y.crossLX.style.top=(Math.floor(u/2)-Math.floor(r.pointerThickness/2))+"px";y.crossLY.style.top=y.crossLX.style.left=r.pointerBorderWidth+"px";y.sld.style.overflow="hidden";y.sld.style.width=r.sliderSize+"px";y.sld.style.height=r.height+"px";y.sldGrad.draw(r.sliderSize,r.height,"#000","#000");y.sldB.style.display=w?"block":"none";y.sldB.style.position="absolute";y.sldB.style.right=r.padding+"px";y.sldB.style.top=r.padding+"px";y.sldB.style.border=r.insetWidth+"px solid";y.sldB.style.borderColor=r.insetColor;y.sldM._jscInstance=r;y.sldM._jscControlName="sld";y.sldM.style.display=w?"block":"none";y.sldM.style.position="absolute";y.sldM.style.right="0";y.sldM.style.top="0";y.sldM.style.width=(r.sliderSize+A/2+r.padding+2*r.insetWidth)+"px";y.sldM.style.height=v[1]+"px";y.sldM.style.cursor="default";y.sldPtrIB.style.border=y.sldPtrOB.style.border=r.pointerBorderWidth+"px solid "+r.pointerBorderColor;y.sldPtrOB.style.position="absolute";y.sldPtrOB.style.left=-(2*r.pointerBorderWidth+r.pointerThickness)+"px";y.sldPtrOB.style.top="0";y.sldPtrMB.style.border=r.pointerThickness+"px solid "+r.pointerColor;y.sldPtrS.style.width=r.sliderSize+"px";y.sldPtrS.style.height=p+"px";function B(){var C=r.insetColor.split(/\s+/);var D=C.length<2?C[0]:C[1]+" "+C[0]+" "+C[0]+" "+C[1];y.btn.style.borderColor=D}y.btn.style.display=r.closable?"block":"none";y.btn.style.position="absolute";y.btn.style.left=r.padding+"px";y.btn.style.bottom=r.padding+"px";y.btn.style.padding="0 15px";y.btn.style.height=r.buttonHeight+"px";y.btn.style.border=r.insetWidth+"px solid";B();y.btn.style.color=r.buttonColor;y.btn.style.font="12px sans-serif";y.btn.style.textAlign="center";try{y.btn.style.cursor="pointer"}catch(x){y.btn.style.cursor="hand"}y.btn.onmousedown=function(){r.hide()};y.btnT.style.lineHeight=r.buttonHeight+"px";y.btnT.innerHTML="";y.btnT.appendChild(document.createTextNode(r.closeText));m();n();if(a.picker.owner&&a.picker.owner!==r){a.unsetClass(a.picker.owner.targetElement,r.activeClass)}a.picker.owner=r;if(a.isElementType(c,"body")){a.redrawPosition()}else{a._drawPosition(r,0,0,"relative",false)}if(y.wrap.parentNode!=c){c.appendChild(y.wrap)}a.setClass(r.targetElement,r.activeClass)}function m(){switch(a.getPadYComponent(r)){case"s":var E=1;break;case"v":var E=2;break}var C=Math.round((r.hsv[0]/360)*(r.width-1));var D=Math.round((1-r.hsv[E]/100)*(r.height-1));var v=(2*r.pointerBorderWidth+r.pointerThickness+2*r.crossSize);var w=-Math.floor(v/2);a.picker.cross.style.left=(C+w)+"px";a.picker.cross.style.top=(D+w)+"px";switch(a.getSliderComponent(r)){case"s":var A=g(r.hsv[0],100,r.hsv[2]);var B=g(r.hsv[0],0,r.hsv[2]);var t="rgb("+Math.round(A[0])+","+Math.round(A[1])+","+Math.round(A[2])+")";var u="rgb("+Math.round(B[0])+","+Math.round(B[1])+","+Math.round(B[2])+")";a.picker.sldGrad.draw(r.sliderSize,r.height,t,u);break;case"v":var z=g(r.hsv[0],r.hsv[1],100);var t="rgb("+Math.round(z[0])+","+Math.round(z[1])+","+Math.round(z[2])+")";var u="#000";a.picker.sldGrad.draw(r.sliderSize,r.height,t,u);break}}function n(){var t=a.getSliderComponent(r);if(t){switch(t){case"s":var v=1;break;case"v":var v=2;break}var u=Math.round((1-r.hsv[v]/100)*(r.height-1));a.picker.sldPtrOB.style.top=(u-(2*r.pointerBorderWidth+r.pointerThickness)-Math.floor(p/2))+"px"}}function i(){return a.picker&&a.picker.owner===r}function b(){r.importColor()}if(typeof q==="string"){var h=q;var f=document.getElementById(h);if(f){this.targetElement=f}else{a.warn("Could not find target element with ID '"+h+"'")}}else{if(q){this.targetElement=q}else{a.warn("Invalid target element: '"+q+"'")}}if(this.targetElement._jscLinkedInstance){a.warn("Cannot link jscolor twice to the same element. Skipping.");return}this.targetElement._jscLinkedInstance=this;this.valueElement=a.fetchElement(this.valueElement);this.styleElement=a.fetchElement(this.styleElement);var r=this;var c=this.container?a.fetchElement(this.container):document.getElementsByTagName("body")[0];var p=3;if(a.isElementType(this.targetElement,"button")){if(this.targetElement.onclick){var l=this.targetElement.onclick;this.targetElement.onclick=function(t){l.call(this,t);return false}}else{this.targetElement.onclick=function(){return false}}}if(this.valueElement){if(a.isElementType(this.valueElement,"input")){var s=function(){r.fromString(r.valueElement.value,a.leaveValue);a.dispatchFineChange(r)};a.attachEvent(this.valueElement,"keyup",s);a.attachEvent(this.valueElement,"input",s);a.attachEvent(this.valueElement,"blur",b);this.valueElement.setAttribute("autocomplete","off")}}if(this.styleElement){this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}}if(this.value){this.fromString(this.value)||this.exportColor()}else{this.importColor()}}};a.jscolor.lookupClass="jscolor";a.jscolor.installByClassName=function(c){var d=document.getElementsByTagName("input");var b=document.getElementsByTagName("button");a.tryInstallOnElements(d,c);a.tryInstallOnElements(b,c)};a.register();return a.jscolor})()};